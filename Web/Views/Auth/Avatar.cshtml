@using UI.Helpers;
@using UI.Extensions;
@model UI.Builders.Auth.Views.AuthAvatarView

@{
    ViewBag.Title = "Avatar";
    Layout = "~/Views/Auth/AuthMaster.cshtml";
}

@using (Html.BeginForm("Avatar", "Auth", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    @Html.AntiForgeryToken()

    <h1>
        Nahrajte avatar
    </h1>

    @Html.RenderInfoMessage($"Avatar bude automaticky zmenšen na {Core.Config.FileConfig.AvatarSideSize}x{Core.Config.FileConfig.AvatarSideSize} px")

    <div class="ui grid">
        <div class="sixteen wide mobile sixteen wide tablet six wide computer column">

            @Html.RenderFormValidationResult(Model.AvatarForm.FormResult.IsSuccess)


            <div>
                <img class="ui image tiny" src="@ImageHelper.GetTransparentImage()" data-src="@ImageHelper.GetUserAvatar(Model.Master.CurrentUser.Id)" />
            </div>

            <div class="ui form w-margin-top-10">
                <div class="field required">
                    <input type="file" name="Avatar">
                </div>

                <button class="ui button primary" type="submit">
                    Nahrát
                </button>
            </div>

        </div>
    </div>
}