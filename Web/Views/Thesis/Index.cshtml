@model UI.Builders.Thesis.Views.ThesisDetailView
@using Core.Helpers
@using UI.Builders.Shared.Enums
@using UI.Modules.GoogleMaps.Views
@using UI.Modules.Header

@{
    Model.Metadata.BasicMetadata.Title = $"{Model.Thesis.ThesisName} | závěrečná práce";
    Model.Metadata.BasicMetadata.Description = Model.Thesis.Description;
    Model.Metadata.Social.GoogleMetadata.Image = Helpers.ImageHelper.GetCompanyBanner(Model.Thesis.Company.CompanyGuid);
    Model.Metadata.Social.OpenGraphMetadata.Image = Helpers.ImageHelper.GetCompanyBanner(Model.Thesis.Company.CompanyGuid);

    Model.Header = new UiHeader()
    {
        Title = null,
        Type = UiHeaderTypeEnum.BackgroundImage,
        ImagePath = Helpers.ImageHelper.GetCompanyBanner(Model.Thesis.Company.CompanyGuid),
        Size = UIHeaderSizeEnum.Medium
    };

    Layout = "~/Views/Shared/Body/Dark.cshtml";
}

@Helpers.ScriptHelper.RequireScript("/scripts/views/thesis/detail")


<div id="_ThesisMenuWrapper" class="w-internship-fixed-wrapper">
    <div class="ui vertical segment w-internship-menu-wrapper">
        <div class="ui container">
            <img alt="Company logo" class="ui mini image w-internship-icon" src="@Helpers.ImageHelper.GetTransparentImage()" data-src="@Helpers.ImageHelper.GetCompanyLogo(Model.Thesis.Company.CompanyGuid)">

            <h1>
                @Model.Thesis.ThesisName
            </h1>

            <div class="w-internship-menu-right">
                <a href="@Url.Action("Thesis", "Form", new {id = Model.Thesis.ID, codeName = Model.Thesis.CodeName})">
                    <div class="ui button secondary">
                        Odpovědět
                    </div>
                </a>
            </div>

            <div class="w-body-clear"></div>
        </div>
    </div>
</div>


<div class="ui container w-margin-top-20 w-padding-bottom-30">
    <div class="ui grid">
        <div class="sixteen wide mobile sixteen wide tablet sixteen wide computer column">
            <div class="ui segment">

                <div class="w-body-text-center">
                    <div class="ui button teal large w-override-no-button">
                        @Model.Thesis.ThesisTypeNameConverted
                    </div>
                </div>

                @*<div class="w-body-text-center">
                        <div class="ui horizontal list">
                            <div class="item">
                                <div class="content">
                                    <i class="home icon"></i>
                                    <a href="@Url.Action("Index", "Company", new { codeName = Model.Thesis.Company.CompanyCodeName })">
                                        @Model.Thesis.Company.CompanyName
                                    </a>
                                </div>
                            </div>
                            <div class="item">
                                <div class="content">
                                    @Helpers.CountryHelper.GetCountryIcon(Model.Thesis.Company.CountryCode)
                                    @Model.Thesis.Company.CountryName
                                </div>
                            </div>
                            <div class="item">
                                <div class="content">
                                    <i class="marker icon"></i>@Model.Thesis.Company.City
                                </div>
                            </div>
                            <div class="item">
                                <div class="content">
                                    @if (Model.Thesis.IsPaid)
                                    {
                                        <i class="money green icon"></i><span>Odměna @(Helpers.TextHelper.GetThesisAmount(Model.Thesis.HideAmount, Model.Thesis.Amount, Model.Thesis.CurrencyName, Model.Thesis.CurrencyShowSignOnLeft))</span>
                                    }
                                    else
                                    {
                                        <i class="money red icon"></i><span>Bez odměny</span>
                                    }
                                </div>
                            </div>
                            <div class="item">
                                <div class="content">
                                    <i title="Nástup od" class="university icon"></i>@Model.Thesis.ThesisTypeNameConverted
                                </div>
                            </div>
                        </div>
                    </div>*@

                <div class="w-margin-top-30">

                    <div class="w-margin-top-30">
                        @Html.Raw(Model.Thesis.Description)
                    </div>

                </div>
            </div>
        </div>

        <div class="sixteen wide mobile sixteen wide tablet sixteen wide computer column">
            <div class="ui segment">
                <table class="ui three column very basic table w-body-text-center">
                    <thead>
                        <tr class="center aligned">
                            <th>Zadáno</th>
                            <th>Odměna</th>
                            <th>Typ práce</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="center aligned">
                            <td>
                                @DateHelper.FormatDate(Model.Thesis.Created)
                            </td>
                            <td>
                                @if (Model.Thesis.IsPaid)
                                {
                                    <i class="money green icon"></i><span>Odměna @(Helpers.TextHelper.GetThesisAmount(Model.Thesis.HideAmount, Model.Thesis.Amount, Model.Thesis.CurrencyName, Model.Thesis.CurrencyShowSignOnLeft))</span>
                                }
                                else
                                {
                                    <i class="money red icon"></i><span>Bez odměny</span>
                                }
                            </td>
                            <td>
                                @Model.Thesis.ThesisTypeNameConverted
                            </td>
                        </tr>
                </table>
            </div>
        </div>
    </div>
</div>

<div class="w-color-background-light">
    <div class="ui container">
        <div class="ui grid w-margin-top-30">
            <div class="eight wide mobile eight wide tablet four wide computer column">
                <div class="ui segment vertical very padded">
                    <div class="ui list">
                        <div class="item">
                            <div class="header">Společnost</div>
                        </div>
                        <div class="item">
                            <a href="@Url.Action("Index", "Company", new { codeName = Model.Thesis.Company.CompanyCodeName})">@Model.Thesis.Company.CompanyName</a>
                        </div>
                        <div class="item">
                            @Model.Thesis.Company.Address
                        </div>
                        <div class="item">
                            @Model.Thesis.Company.City
                        </div>
                        <div class="item">
                            @Helpers.CountryHelper.GetCountryIcon(Model.Thesis.Company.CountryCode) @Model.Thesis.Company.CountryName
                        </div>
                    </div>
                </div>
            </div>
            <div class="eight wide mobile eight wide tablet four wide computer column">
                <div class="ui segment vertical very padded">
                    <div class="ui list">
                        <div class="item">
                            <div class="header">Sociální sítě</div>
                        </div>
                        @if (!string.IsNullOrEmpty(Model.Thesis.Company.Web))
                        {
                            <div class="item">
                                <a target="_blank" href="@(Model.Thesis.Company.Web)">@(Model.Thesis.Company.Web)</a>
                            </div>
                        }
                        <div class="item">
                            @if (!string.IsNullOrEmpty(Model.Thesis.Company.Facebook))
                            {
                                <a target="_blank" href="@Helpers.UrlHelper.GetFacebookUrl(Model.Thesis.Company.Facebook)">
                                    <i class="facebook w-color-facebook icon large"></i>
                                </a>
                            }
                            @if (!string.IsNullOrEmpty(Model.Thesis.Company.Twitter))
                            {
                                <a target="_blank" href="@Helpers.UrlHelper.GetTwitterUrl(Model.Thesis.Company.Twitter)">
                                    <i class="twitter w-color-twitter icon large"></i>
                                </a>
                            }
                            @if (!string.IsNullOrEmpty(Model.Thesis.Company.LinkedIn))
                            {
                                <a target="_blank" href="@Helpers.UrlHelper.GetLinkedInUrl(Model.Thesis.Company.LinkedIn)">
                                    <i class="linkedin w-color-linkedin icon large"></i>
                                </a>
                            }
                        </div>
                    </div>
                </div>
            </div>
            <div class="sixteen wide mobile sixteen wide tablet eight wide computer column w-margin-bottom-14">
                @Html.Partial("~/Views/Modules/GoogleMaps/GoogleMap.cshtml",
                        new GoogleMapView()
                        {
                            Zoom = 15,
                            Lat = Model.Thesis.Company.Lat,
                            Lng = Model.Thesis.Company.Lng,
                            MarkerTitle = Model.Thesis.Company.CompanyName
                        })
            </div>
        </div>
    </div>
</div>


