@using UI.Helpers

@model UI.Builders.Master.Views.MasterView

@if (Request.IsAuthenticated)
{
    var displayName = string.IsNullOrEmpty(Model.Master.CurrentUser.FirstName) ? Model.Master.CurrentUser.UserName : Model.Master.CurrentUser.FirstName;

    <a class="item w-menu-right-item" href="@Url.Action("Index", "Auth")">
        <img alt="" class="ui avatar image" src="@ImageHelper.GetUserAvatar(Model.Master.CurrentUser.Id)">
        &nbsp;<span>@displayName</span>
        @if (Model.Master.StatusBox.NewMessagesCount > 0)
        {
            <span class="w-color-secondary">&nbsp;(@Model.Master.StatusBox.NewMessagesCount)</span>
        }
    </a>
}
else
{
    <a class="item w-menu-right-item" href="@Url.Action("Register", "Account")">
        <div class="ui secondary button">Registrovat</div>
    </a>
    <a class="item w-menu-right-item" href="@Url.Action("Login", "Account")">
        Přihlásit
    </a>
}
